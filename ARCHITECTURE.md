# 《神临山海》架构文档

## 项目概述

**项目名称**：神临山海  
**项目类型**：史诗级硬科幻小说四部曲  
**总字数**：160万字  
**创作理念**：Novel as Code - 以代码管理的方式创作小说  
**作者**：虎王船长

## 四部曲结构

### 第一部：灵机江湖
- 核心主题：人工智能觉醒与社会变革
- 预计字数：40万字
- 时间跨度：近未来（2050-2070年）

### 第二部：天邑破晓
- 核心主题：星际殖民与文明冲突
- 预计字数：40万字
- 时间跨度：2070-2150年

### 第三部：众神觉醒
- 核心主题：超级智能与人类进化
- 预计字数：40万字
- 时间跨度：2150-2300年

### 第四部：星汉余歌
- 核心主题：宇宙文明与终极问题
- 预计字数：40万字
- 时间跨度：2300-3000年

## 项目目录结构

```
神临山海/
├── .cursorrules                 # AI写作指令
├── README.md                    # 项目说明
├── QUICKSTART.md               # 快速开始
├── ARCHITECTURE.md             # 本架构文档
│
├── 00_World_Bible/             # 世界观圣经
│   ├── index.md               # 总索引
│   ├── technology.md          # 科技树
│   ├── geography.md           # 地理设定
│   ├── history.md             # 历史年表
│   ├── society.md             # 社会结构
│   └── rules.md               # 物理法则
│
├── 01_Characters/              # 人物档案
│   ├── index.md               # 总索引
│   ├── protagonist_main.md    # 主角档案
│   ├── antagonist_main.md     # 反派档案
│   ├── supporting.md          # 配角档案
│   └── relations_map.md       # 人物关系图
│
├── 02_Drafts/                  # 正文草稿
│   ├── Book1_灵机江湖/
│   │   ├── Volume1/
│   │   │   ├── Chapter_001.md
│   │   │   └── ...
│   │   └── Volume2/
│   ├── Book2_天邑破晓/
│   ├── Book3_众神觉醒/
│   └── Book4_星汉余歌/
│
├── 03_Published/               # 已发布版本
│   └── (按版本号组织)
│
├── 04_Outlines/                # 大纲文档
│   ├── overall_outline.md     # 总体大纲
│   ├── book1_outline.md       # 第一部详细大纲
│   ├── book2_outline.md
│   ├── book3_outline.md
│   └── book4_outline.md
│
├── 05_Reference/               # 参考资料
│   ├── 科幻内核/
│   │   ├── 三体系列/
│   │   ├── 基地系列/
│   │   ├── 沙丘系列/
│   │   └── 银河帝国系列/
│   └── 科学资料/
│
├── 06_Assets/                  # 资源文件
│   ├── images/
│   ├── diagrams/
│   └── maps/
│
└── web-reader/                 # Web阅读器
    ├── index.html
    ├── styles.css
    ├── reader.js
    └── chapters.json          # 内容索引
```

## 写作流程

### 1. 规划阶段
1. 在 `04_Outlines/` 中完善分卷、分章大纲
2. 在 `00_World_Bible/` 中补充世界观细节
3. 在 `01_Characters/` 中完善人物档案

### 2. 创作阶段
1. 在 Cursor 中使用 `@` 引用相关文档
2. 使用 `.cursorrules` 确保风格一致
3. 在 `02_Drafts/` 对应章节文件中写作
4. 每章包含 Metadata、Scene、Content 三部分

### 3. 审阅阶段
1. 使用 Codebase 搜索检查一致性
2. 检查人物性格、世界观设定是否连贯
3. 进行必要的修订

### 4. 发布阶段
1. 将审定版本移至 `03_Published/`
2. 更新 `web-reader/chapters.json`
3. 通过 Web 阅读器预览

## 内容一致性保证机制

### 1. 世界观管理
- **单一事实来源**：所有世界观设定集中在 `00_World_Bible/`
- **索引系统**：通过 `index.md` 快速定位
- **版本控制**：使用 Git 追踪所有修改

### 2. 人物管理
- **人物档案卡**：每个重要角色一个独立档案
- **性格标签**：定义核心性格特征
- **对话规范**：记录典型说话方式和口头禅
- **关系图谱**：可视化人物关系

### 3. AI辅助一致性
- **`.cursorrules`**：全局AI行为准则
- **上下文引用**：使用 `@` 精确引用相关文档
- **Codebase 搜索**：快速查找相关内容
- **Composer 多文件编辑**：同步修改相关内容

## 章节文件规范

每个章节文件 (`Chapter_XXX.md`) 遵循以下结构：

```markdown
---
chapter: 章节编号
title: 章节标题
book: 所属书籍
volume: 所属卷
word_count: 字数统计
status: draft/review/published
created: 创建日期
updated: 更新日期
---

# 章节标题

## 场景设定
- 时间：
- 地点：
- 出场人物：
- 场景目标：

## 正文

（正文内容）

## 写作笔记
- 本章要点：
- 伏笔设置：
- 待解决问题：
```

## 质量控制清单

### 写作前检查
- [ ] 阅读相关世界观设定
- [ ] 复习人物档案
- [ ] 确认故事时间线
- [ ] 检查前情提要

### 写作中检查
- [ ] 人物对话符合性格
- [ ] 科技设定符合世界观
- [ ] 物理法则保持一致
- [ ] 情节推进合理

### 写作后检查
- [ ] 字数统计更新
- [ ] Metadata 完整
- [ ] 无明显逻辑漏洞
- [ ] 伏笔记录完整

## 关键原则

### 1. 硬科幻标准
- 所有科技必须有理论基础
- 物理法则严格遵守
- 超光速航行必须付出代价
- 能量守恒原则

### 2. 风格原则
- 刘慈欣式宏大叙事
- 阿西莫夫式逻辑严密
- 冷峻客观的叙述风格
- 避免过多形容词堆砌

### 3. 禁止元素
- ❌ 穿越
- ❌ 系统
- ❌ 网络爽文套路
- ❌ 无代价的超能力

### 4. 核心要素
- ✅ 宏大的宇宙观
- ✅ 复杂的人物心理
- ✅ 深刻的哲学思考
- ✅ 严密的科学逻辑

## AI协作指南

### 使用 @ 引用
```
@00_World_Bible/technology.md  # 引用科技设定
@01_Characters/protagonist_main.md  # 引用主角档案
@04_Outlines/overall_outline.md  # 引用总体大纲
```

### 使用 Codebase 搜索
- 搜索人物名字，检查前后描写一致性
- 搜索科技术语，确保设定统一
- 搜索地点名称，确保地理描述一致

### 使用 Composer
- 同时编辑人物档案和对话内容
- 同时更新大纲和章节内容
- 批量修正术语或人名

## 版本管理

### Git 工作流
```bash
# 日常写作
git add 02_Drafts/Book1_灵机江湖/Chapter_XXX.md
git commit -m "完成：第X章初稿"

# 重大修改
git add 00_World_Bible/technology.md
git commit -m "更新：科技树V2.0"

# 发布版本
git tag -a v1.0.0 -m "第一部第一卷完成"
git push origin v1.0.0
```

## Web阅读器架构

### 技术栈
- **HTML5**：结构
- **CSS3**：样式（极简现代设计）
- **Vanilla JS**：交互（无框架依赖）
- **Markdown**：内容格式
- **Python HTTP Server**：本地服务

### 设计原则
- 极致的阅读体验
- 出版级排版质量
- 响应式设计
- 无广告、无干扰

### 核心功能
- 章节导航
- 全文搜索
- 阅读进度
- 主题切换
- 语言选择

## 协作与迭代

### 反馈循环
1. 写作 → AI辅助生成
2. 阅读 → 发现问题
3. 修正 → 更新档案
4. 重构 → 确保一致性

### 持续改进
- 定期审查世界观设定
- 优化人物弧光
- 强化情节逻辑
- 提升文字质量

---

**最后更新**：2026-01-29  
**文档维护者**：虎王船长
